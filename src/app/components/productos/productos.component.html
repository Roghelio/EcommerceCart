<div class="body">

  <app-ecommerce-header></app-ecommerce-header>
  <!--<div class="first-content">-->
    <!--<div class="center-container">
      <div id="search-bar">
        <button><span class="material-icons">
            search
          </span></button>
        <input type="text" name="search" id="search" placeholder="buscar producto" [(ngModel)]="searchText"
          (input)="realizarBusqueda()">
      </div>
      <div class="icon_content">
        <mat-icon class="car_icon" matBadge="{{productos.length}}" matBadgeColor="warn" mat-button
          [matMenuTriggerFor]="beforeMenu">shopping_cart</mat-icon>
        <mat-menu #beforeMenu="matMenu" xPosition="before">
          <div id="cardlist" class="carlist" *ngIf="productos.length > 0"
            [ngStyle]="{'display': mostrarCarrito ? 'block' : 'none'}">
            <div class="head-car">
              <h2>Tu carrito: {{productos.length}}</h2>
              <button (click)="closeCar()"><mat-icon>close</mat-icon></button>
            </div>
            <div *ngFor="let produ of productos; let i = index" class="produ-car">
              <div class="porcentaje" *ngIf="produ.descuento == 1">-{{produ.porcentaje}}</div>
              <div class="img-produ-car">
                <img src="{{urlimg + produ.imageurl}}" alt="">
              </div>
              <p>Nombre: {{produ.nombre}}</p>
              <p>c/u: ${{produ.preciototal}}</p>
              <p *ngIf="produ.descuento == 1" class="priceant">Anterior: ${{produ.precio}}</p>
              <p>Precio: ${{produ.cantidad * produ.preciototal}}</p>
              <input type="number" name="cantidad" id="cantidad" [(ngModel)]="productos[i].cantidad"
                value="{{productos[i].cantidad}}" (change)="actualizarCantidad(i)">
              <button (click)="eliminarProducto(i)">Eliminar</button>
            </div>
            <h2 class="subtotal">Subtotal: ${{subtotal}}</h2>
            <button (click)="resumenProductos()" class="vaciar pagarnow" routerLink="/resumen">pagar ahora</button>
            <button (click)="vaciarCarrito()" class="vaciar">vaciar carrito</button>
          </div>
        </mat-menu>
      </div>
    </div>-->
    <!--<div class="cantidad-produ">
      <h2>productos encontrados: {{productosFiltrados.length}}</h2>
    </div>
  </div>-->
  <div class="products-find">
    <label>Productos: 20</label>
  </div>
  <app-main></app-main>

  <!--<div class="content_page">
    <div class="margin_page">
      <div class="grid_padre">
        <div class="col-md-3">
          <div class="sidebar">
            <h3>Filtros</h3>
            <label>Categor√≠a:</label>
            <select (change)="filtrarPorCategoria()" [(ngModel)]="categoriaSeleccionada">
              <option [ngValue]="null" disabled selected></option>
              <option *ngFor="let categorias of categoriaFilter" [ngValue]="categorias.nombre">{{categorias.nombre}}</option>
            </select>
            
            <div class="price_filter_container">
              <h3 class="precio_range">
                Precio
              </h3>
              <span *ngFor="let filter of filtersPrice; let i = index" (click)="getPriceProducts(i)"
                [class.seleccionado]="filtroSeleccionado === i">{{filter}}</span>
            </div>
          </div>
        </div>

        <div class="col-md-9 text-center product" [ngClass]="{'product': aplicarEstilo}">
          <div class="not-found" *ngIf="productosFiltrados.length == 0">
            <div>
              <img src="assets/img/Product-Not-Found.jpg" alt="">
              <p>No se encontraron productos</p>
            </div>
          </div>
          <div class="productos-grid">

            <div class="producto-card" *ngFor="let product of productosFiltrados let i = index">
              <p *ngIf="product.descuento == 1" class="oferta">-{{product.porcentaje}}%</p>
              <img src="{{urlimg + product.imageurl}}" alt="{{ product.name }} Image"
                [routerLink]="['/detalles', product.id]">
              <h3 [routerLink]="['/detalles', product.id]">{{ product.nombre }}</h3>
              <p *ngIf="product.descuento == 1" class="old_price">anterior: ${{product.precio}}</p>
              <p *ngIf="product.descuento == 1" class="new_price">Precio: ${{product.preciototal}}</p>
              <p *ngIf="product.descuento == 0">Precio: ${{ product.preciototal }}</p>
              <button mat-raised-button *ngIf="!product.agregado" class="btn btn-info"
                (click)="agregarAlCarrito(i)">Agregar al carrito</button>
            </div>
          </div>
          <br><br>
        </div>
        <div id="cardlist" class="carlist" *ngIf="productos.length > 0"
          [ngStyle]="{'display': mostrarCarrito ? 'block' : 'none'}">
          <div class="head-car">
            <h2>Tu carrito: {{productos.length}}</h2>
            <button (click)="closeCar()"><mat-icon>close</mat-icon></button>
          </div>
          <div *ngFor="let produ of productos; let i = index" class="produ-car">
            <div class="img-produ-car">
              <img src="{{urlimg + produ.imageurl}}" alt="">
            </div>
            <p>Nombre: {{produ.price}}</p>
          
            <p *ngIf="produ.descuento == 0">Precio: ${{produ.cantidad * produ.price}}</p>
            <input type="number" name="cantidad" id="cantidad" [(ngModel)]="productos[i].cantidad"
              value="{{productos[i].cantidad}}" (change)="actualizarCantidad(i)">
            <button (click)="eliminarProducto(i)">Eliminar</button>
          </div>
          <h2 class="subtotal">Subtotal: ${{subtotal}}</h2>
          <button (click)="resumenProductos()" class="vaciar pagarnow" routerLink="/resumen">pagar ahora</button>
          <button (click)="vaciarCarrito()" class="vaciar">vaciar carrito</button>
        </div>
      </div>
    </div>
  </div>-->
</div>